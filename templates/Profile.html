<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
</head>
<body>
    <!-- Navigation bar -->
    <header class="navbar">
        <div class="logo"><img src="{{ url_for('static', filename='img/logo.jpg') }}" alt="Logo"></div>
        <div class="navbar-content">
            <div class="customer-id">Customer ID</div>
            <button class="menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
        </div>
    </header>

    <!-- Side bar -->
    <aside class="sidebar">
        <div class="profile-pict">
            <img src="{{ url_for('static', filename='img/MLSD.jpg') }}" alt="Placeholder Image">
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li><a href="{{ url_for('dashboard') }}"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="{{ url_for('profile') }}"><i class="fas fa-edit"></i> Edit Profile</a></li>
                <li><a href="{{ url_for('appointment') }}"><i class="fas fa-calendar-alt"></i> Appointment</a></li>
                <li><a href="{{ url_for('notification') }}"><i class="fas fa-bell"></i> Notification</a></li>
                <li><a href="{{ url_for('setting') }}"><i class="fas fa-cog"></i> Setting</a></li>
                <li><a href="{{ url_for('help') }}"><i class="fas fa-question-circle"></i> Help Center</a></li>
                <li><a href="Logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                <li class="del"><a href="Delete.html"><i class="fas fa-trash-alt"></i> Delete Account</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main content area -->
    <main class="profile-content">
        <!-- Marquee with system updates -->
        <div class="marquee">
            <marquee>System updates: Stay informed with the latest changes...</marquee>
        </div>

        <!-- Profile Edit Form -->
        <section class="profile-edit">
            <h2>Complete Your Profile</h2>
            <form id="profileForm" action="{{ url_for('submit_profile') }}" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                
                <div class="profile-pic">
                    <img id="profileImage" src="{{ profiles[0].image_path if profiles else 'profile-pic-placeholder.jpg' }}" alt="Image">
                    <input type="file" id="fileInput" name="profile-picture" accept="image/*">
                    <label class="fileInput" for="fileInput"><i class="fa fa-upload" aria-hidden="true"></i></label>
                </div>
            
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" placeholder="Current Username">
                </div>
            
                <div class="form-group">
                    <label for="first_name">First Name:</label>
                    <input type="text" id="first_name" name="first_name" placeholder="Enter your First Name">
                </div>
            
                <div class="form-group">
                    <label for="last_name">Last Name:</label>
                    <input type="text" id="last_name" name="last_name" placeholder="Enter your Last Name">
                </div>
            
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender">
                        <option value="" disabled selected>Select your gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
            
                <div class="form-group">
                    <label for="DOB">Date of Birth:</label>
                    <input class="Date" type="DATE" id="DOB" name="DOB" placeholder="DD/MM/YYYY">
                </div>
            
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" placeholder="user@example.com">
                </div>
            
                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" name="phone" placeholder="+123456789">
                </div>
            
                <div class="form-group">
                    <label for="location">Location:</label>
                    <input type="text" id="location" name="location" placeholder="Enter your Location">
                </div>
            
                <div class="form-group">
                    <label for="bio">Bio:</label>
                    <textarea id="bio" name="bio" rows="4"></textarea>
                </div>
            
                <button type="submit" class="btn-save">Save Changes</button>
            </form>            
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="social-links">
            <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i> </a>
            <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook-f"></i> </a>
            <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin-in"></i> </a>
            <a href="https://github.com" target="_blank"><i class="fab fa-github"></i> </a>
        </div>
    </footer>

    <script>
        function toggleMenu() {
        const sidebar = document.querySelector('.sidebar');
        sidebar.classList.toggle('active');
    }
    </script>
</body>
</html>
